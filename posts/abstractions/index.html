<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="light dark" name=color-scheme><title>Abstractions</title><link href=/img/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/img/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/img/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://fonts.googleapis.com rel=preconnect><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css2?family=Signika&display=swap" rel=stylesheet><style>body{--primary-color:#698bcf;--primary-pale-color:#698bcf1c;--text-color:#3c4043;--text-pale-color:#9aa2b9;--bg-color:#fff;--highlight-mark-color:#5f75b045;--callout-note-color:#698bcf;--callout-important-color:#9971d9;--callout-warning-color:#c99054;--callout-alert-color:#d35757;--callout-question-color:#4985a2;--callout-tip-color:#3ea06f;--main-font:'Signika',ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--code-font:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--homepage-max-width:750px;--main-max-width:750px;--avatar-size:70px;--paragraph-font-size:18px;--paragraph-line-height:1.75;--aside-font-size:16px;--img-border-radius:0;--inline-code-border-radius:2px}body.dark{--primary-color:#698bcf;--primary-pale-color:#698bcf1c;--text-color:#9197a5;--text-pale-color:#5d6470;--bg-color:#202124;--highlight-mark-color:#5f75b045;--callout-note-color:#698bcf;--callout-important-color:#9971d9;--callout-warning-color:#c99054;--callout-alert-color:#d35757;--callout-question-color:#4985a2;--callout-tip-color:#3ea06f}</style><link href=/main.css rel=stylesheet><link href=/hl-light.css id=hl rel=stylesheet><body class=post><script>if(localStorage.getItem('theme')=='dark'){document.body.classList.add('dark');const a=document.querySelector('link#hl');if(a)a.href='/hl-dark.css'}</script><header class=blur><div id=header-wrapper><nav><a href=/>kmc</a><button aria-label="toggle expand" class=separator id=toggler>::</button><span class="wrap left fold">{</span><a href=/posts>posts</a><span class="wrap-separator fold">,</span><a class=fold href=/projects>projects</a><span class="wrap right fold">} ;</span></nav><div id=btns><a aria-label="rss feed" href=/posts/feed.xml><svg class="w-6 h-6" viewbox="0 0 24 24" fill=none stroke=currentColor stroke-width=1.5 xmlns=http://www.w3.org/2000/svg><path d="M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" stroke-linecap=round stroke-linejoin=round /></svg></a><button aria-label="theme switch" data-moon-icon='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
</svg>' data-sun-icon='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
</svg>' id=theme-toggle><svg class="w-6 h-6" viewbox="0 0 24 24" fill=none stroke=currentColor stroke-width=1.5 xmlns=http://www.w3.org/2000/svg><path d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" stroke-linecap=round stroke-linejoin=round /></svg></button><button aria-label="table of content" id=toc-toggle><svg viewbox="0 0 24 24" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M3 4H21V6H3V4ZM3 11H15V13H3V11ZM3 18H21V20H3V18Z" fill=currentColor></path></svg></button></div></div></header><div id=wrapper><div id=blank></div><aside class=blur><nav><ul><li><a class=h2 href=#grabbing-an-axe>Grabbing an Axe</a><li><a class=h2 href=#embracing-the-void>Embracing the Void</a><li><a class=h2 href=#vectors>Vectors</a></ul></nav><button aria-label="back to top" id=back-to-top><svg class="w-6 h-6" viewbox="0 0 24 24" fill=none stroke=currentColor stroke-width=1.5 xmlns=http://www.w3.org/2000/svg><path d="M12 19.5v-15m0 0l-6.75 6.75M12 4.5l6.75 6.75" stroke-linecap=round stroke-linejoin=round /></svg></button></aside><main><div><div data-check-icon='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
</svg>' data-copy-icon='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184" />
</svg>' id=copy-cfg style=display:none></div><article data-backlink-icon='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 19.5l-15-15m0 0v11.25m0-11.25h11.25" />
</svg>' class=prose><h1>Abstractions</h1><div id=post-info><div id=date><span id=publish>2018-07-04</span><span>Updated on <span id=updated>2020-07-16</span></span></div><div id=tags><a href=https://k-cross.github.io/tags/engineering><span>#</span>engineering</a></div></div><p>Correct abstractions in programming are hard to make for the future case. Often, there is not enough data at the start of a project when the problem space is not well understood. This makes development harder due to the volatility of projects, showing that it's unlikely to make meaningful predictions further into the future. So how then, should sustainable programs be built? Optimizing for code deletion is one strategy worth utilizing since it's forward moving flexibility that's the real goal. In essence, being unconstrained from the past, the future can be built unencumbered, thus reducing effort. The following emergent traits tend to result:<ol><li>a modular type of architecture<li>extending features takes less effort<li>code base is more optimized for the current running state rather than the predicted future state</ol><h2 id=grabbing-an-axe>Grabbing an Axe<a aria-label="Anchor link for: grabbing-an-axe" class=zola-anchor href=#grabbing-an-axe>#</a></h2><p>One of the more satisfying things in programming is utilizing a razor-sharp axe and cutting a code base down to size! Grokking a system is far easier when it's simple, well designed, and small. How better, to understand a system than by focusing on cutting stuff out of it? When emphasis is placed on deletion it's paramount to understand the system's complexity and nuances at the boundaries. This calls for the need to have equivalency tests available to the systems that are intended to be replaced. Equivalence testing is the only real hope to allowing a proper rewrite. It's an uneasy feeling to delete code that's not well understood. Being able to verify that those changes do what's expected is critical -- the path to the new system needs to be trustworthy. There's a fine line between tests that mock what you expect versus checking the expected behavior of a <em>system/function/method</em>. Getting the system behavior correct is mandatory, even the undesirable behavior that is thought of as broken internally, because customers probably rely on the broken behavior making them features.<p>Deletion promotes modularity and the clarity of application contracts. Being able to remove things comfortably means that the core logic of isolated features are successfully decoupled from the core logic of other components of the system. Deleting a feature should cause its tests to fail, but those tests ideally wouldn't affect the behavior of other tests other than related subcomponent. Tests reveal a starting point in which to add new features once code has been deleted, or at least where more care needs to be placed. Tests pave the way to automate and verify the behavior of what deletion does. Optimizing for deletion enforces modularity because scaling quickly in a large code base demands it. The easiest way to verify integrity is by isolation, testing isolated components, and then testing the interoperability of the system as a whole. In order to do this reliably, avoid side-effects, as they'll cause additional complexity as well as combinatorial growth of the testable problem space. Modularity is the core component in optimizing for deletion. It allows for the most flexibility during the reimplementation a feature since the interfaces remain largely unchanged. For instance, a billing system shouldn't be tied to a metric system other than by interfaces, otherwise swapping out one or the other makes it a very time intensive project and the end result will almost certainly be a modular system that replaces it. Not convinced? Imagine that the billing system is a third-party service? What happens when that third-party changes its usage policy in a highly undesirable way? How much effort is required to swap implementations?<h2 id=embracing-the-void>Embracing the Void<a aria-label="Anchor link for: embracing-the-void" class=zola-anchor href=#embracing-the-void>#</a></h2><p>What does the absence of code buy? The flexibility to extend the system with fewer legacy restrictions. To some degree, legacy requirements are always going to linger, but they should be external customer facing legacy issues, not internal system constraints. APIs are very hard to not be constrained by. New features are much easier to write when all the other interfaces that they'll rely on can also be changed and modified easily. With a modular code base, new features can be developed and tested in isolation and then added into the system through an interface.<p>Optimizing for deletion reduces the scope of development to the minimal requirements rather than predictions. The consequences of deletion create some very desirable traits. Their drawbacks come from the necessity to perform deletions reliably, which are not trivial.<h2 id=vectors>Vectors<a aria-label="Anchor link for: vectors" class=zola-anchor href=#vectors>#</a></h2><p>This idea is not without its drawbacks. Initial development velocity for example, is not a trait since it's impossible to rebuild nontrivial features reliably. Taking this philosophy to its extremes, like any other philosophy, is inane. Feature implementations are like vector math, where there are different paths that can be taken but there's a single optimal route from point A to point B. Keeping the mentioned traits in mind helps strike a balance as a guide post to do it properly. Improper utilization can occur when a feature is easy enough to extend rather than write from scratch. Too many <em>time/space</em> optimizations probably results in very inflexible code which can easily become coupled with other components for the sake of efficiency. Sometimes it's warranted, sometimes it's not. While it's a good idea to think about current use cases, obvious future cases like extending an API, should remain flexible enough to not have to be rewritten every time a feature is requested.<p>At the end of the day,<pre class=z-code><code><span class="z-text z-plain">83 files changed, 1716 insertions(+), 19478 deletions(-)
</span></code></pre><p>if this doesn't put a smile on your face, you're probably a masochist.<p><em>NOTE: when referring to testing I mean that in the general sense, not specifically unit testing</em></article><div class=giscus></div></div><footer><div class=copyright><p>© 2023 KMC</div></footer></main></div><script src=/js/lightense.min.js></script><script src=/js/main.js></script>