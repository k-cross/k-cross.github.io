{"componentChunkName":"component---src-templates-post-tsx","path":"/posts/spo2/","result":{"data":{"markdownRemark":{"html":"<p>When the doctors left us with a medical device to monitor the blood oxygen levels of my newborn son, the less than desirable interface converted us into zombies.\nAlerts beeped when SPO2 or BPM reached specific thresholds and nothing else.\nThe device, the <em>Masimo RAD8</em> contains space to store data except no patient based mechanisms to read the results it collects.</p>\n<p>It‚Äôs crazy!\nMedical professionals leave patients with a device where caregivers can‚Äôt monitor nor track progress over long periods of time;\npreventing the collection of valuable data doctors require to inform their decisions and care plans.\nPlacing the blame on doctors is unfair since these devices and their options are limited by supply and insurance companies.\nThe inconvenient part stems from infant pulse oximeters, either costing a small fortune for a medical grade one or non-medical grade ones not taken seriously by doctors.\nWe purchased the <em>wellvue</em> which was an order of magnitude more convenient.\nThe battery operated machine lasted through the night, wireless, gathering data, and printed out summaries over single recording periods.\nData collection and reporting wasn‚Äôt ideal but provided insight into the patient‚Äôs overall progress, for example: patient was below 92% SPO2 for 12.5 minutes over a 10 hour period.\nIt was impossible to track the reliability of the device and the accuracy of the recorded measurements.\nWe ended up returning the device because of its unreliability and our doctors didn‚Äôt trust it.</p>\n<p>When our insurance company signed off on renting the <em>RAD8</em>, the pulmonary team was ecstatic, but the enthusiasm in my eyes quickly drained after figuring out how much of a burden it was to use.\nThe <em>RAD8</em> advertises storing 72 hours worth of data but specialized software is required to retrieve it.\nVisiting the doctors office to read data off the device with the given frequency wasn‚Äôt sustainable.\nThe doctors expected us to record alerts by hand as they didn‚Äôt mention any method for data retrieval.\nManual data recording is too error prone of a task, particularly when the best time to gather reliable information is when both patient and parent are sleeping.\nThis was worse in every way to the <em>Wellvue</em>, with the exception of its reliability.\nI took action once noticing the serial interface on its back.</p>\n<h2>Project Goals</h2>\n<p>The project had modest ambitions and I was on a timeline through the initial implementation cycle for this to be useful for my family.\nIt needed to:</p>\n<ol>\n<li>record readings in a centralized system that can be queried</li>\n<li>contain a web interface (in order to monitor and query from any device)</li>\n<li>perform queries to answer questions about SPO2 levels</li>\n<li>display live numerical readings (enables remote monitoring)</li>\n</ol>\n<p>Recreating an interface similar to hospital displays was ideal but the need to get the basics completed to answer the doctors‚Äô questions outweighed those ambitions.\nThe extended goals:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> graph historical data to get visual context showing trends</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> add live visualizations</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> in-depth queries and query parameters</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> extendible to include more medical grade pulse oximeters</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> customizable data storage (MySQL / PostgreSQL / Mnesia)</li>\n</ul>\n<h2>A Journey through a Proprietary Wonderland</h2>\n<p>After digging, Philips has a proprietary protocol named <em>vuelink</em> that gives the most insightful data to read from the device.\nWith time short, I did not decode the protocol (wish I did).\nInstead, I used the basic <em>ASCII</em> standards which provided the basic yet important data: <em>BPM, SPO2, Perfusion Index</em> over standard serial protocols.\n<em>ASCII</em> doesn‚Äôt contain the <em>Signal IQ</em> information that‚Äôs viewable on the physical display as <em>SIQ</em>, measuring the confidence level of individual readings.\n<em>SIQ</em> makes me want to reverse engineer the <em>vuelink</em> protocol, because it creates the possibility to filter for high confidence readings during analysis.\nWatching these machines at hospitals, they display a variety of waveforms and display the changes to them indicating measurement stability.\nThat type of data would enable more sophisticated waveform analysis, but I needed something quick making it outside the project‚Äôs scope.</p>\n<p>The documentation describing device setup was less than desirable.\nFirst, I had to figure out how to unlock it.\nThe medical supply company ‚Äúset the prescription‚Äù and then do the wonderful work of locking the device.\nThis makes settings unadjustable, including the noise level of alerts.\nThese are loud and can wake up a sleeping infant which exacerbates existing medical issues when they need to rest.\nStep one was getting the instruction manual and figuring out the crazy way to unlock the <em>RAD8</em>.\nNext, the serial interface needed configuration to function properly.\nOnce accomplished, the official manual stated it take measurements every 500ms, which wasn‚Äôt true.\nI noticed this while analyzing data where my original calculations to get the duration of measurements was:</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>d</mi><mi>u</mi><mi>r</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>=</mo><mfrac><mrow><munderover><mo>‚àë</mo><mrow><mi>r</mi><mi>e</mi><mi>a</mi><mi>d</mi><mi>i</mi><mi>n</mi><mi>g</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mn>1</mn></mrow><mfrac><msub><mn>1</mn><mrow><mi>r</mi><mi>e</mi><mi>a</mi><mi>d</mi><mi>i</mi><mi>n</mi><mi>g</mi></mrow></msub><msub><mn>500</mn><mrow><mi>m</mi><mi>s</mi></mrow></msub></mfrac></mfrac><mo>=</mo><mfrac><mrow><mi>n</mi><mi>u</mi><mi>m</mi><mi>O</mi><mi>f</mi><mi>R</mi><mi>e</mi><mi>a</mi><mi>d</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>s</mi></mrow><mrow><mi>r</mi><mi>e</mi><mi>a</mi><mi>d</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>R</mi><mi>a</mi><mi>t</mi><mi>e</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">duration = \\frac{\\sum_{reading=1}^{n} 1}{\\frac{1_{reading}}{500_{ms}}} = \\frac{numOfReadings}{readingRate}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.9294em;vertical-align:-1.2993em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.6301em;\"><span style=\"top:-2.1458em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9642em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">50</span><span class=\"mord mtight\"><span class=\"mord mtight\">0</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1645em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span><span class=\"mord mathnormal mtight\">s</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.5131em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3488em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">in</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2901em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4451em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.8258em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">‚àë</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8043em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">in</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2993em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.2519em;vertical-align:-0.8804em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">re</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">in</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">e</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">in</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">s</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8804em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></div>\n<p>This result allowed us to generate the amount of time recorded directly, but it was a lie.\nChecking the database timestamps, the <em>reading rate</em> was actually <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><msub><mn>1</mn><mrow><mi>r</mi><mi>e</mi><mi>a</mi><mi>d</mi><mi>i</mi><mi>n</mi><mi>g</mi></mrow></msub><msub><mn>1</mn><mi>s</mi></msub></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{1_{reading}}{1_s}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.4093em;vertical-align:-0.4451em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9642em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1645em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">s</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.5131em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3488em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">re</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">d</span><span class=\"mord mathnormal mtight\">in</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2901em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4451em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>‚Ä¶\nIt was a lot of fun to discover and tell the pulmonary doctors the wrong results for the first two days because of bad documentation ü§¶üèª‚Äç‚ôÇÔ∏è.\nThere were other issues that were more pressing at the time which made me realize the incorrect calculation later than I would have liked.\nYou might be wondering, was it the polling rate?\nNo, the serial device is immediately read and asked for more information after it returns with a result, timing out at <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mn>5</mn><mi>s</mi></msub></mrow><annotation encoding=\"application/x-tex\">5_s</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7944em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\">5</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">s</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></span> for a reading.\nThe last bit of proprietary fun came from the information display and error codes.\nThese were bit masks that were represented in ASCII as hexadecimal bit-masks.\nI copied the common ones from a python project which was a great help in the creation of this application.</p>\n<h2>Implementation Specifics</h2>\n<p>The project utilizes the Elixir programming language because of its immediate familiarity and its failure handling mechanisms.\nThe actor model that erlang provides to supervise processes is ideal for handling connection issues and retry logic.\nWith all the built-in features of erlang, reconnecting devices came for free because of the supervision strategies for processes!\nThe serial connection was handled under a supervised process so if disconnects or unhandled errors occur, the supervisor keeps retrying to restore the task to a stable state.\nUsers can use the device in the way they need to at the time they need to.\nIt doesn‚Äôt matter if the device is turned off, unplugged, or can‚Äôt communicate with the OS.\nThe supervisor keeps retrying and spins up new processes errors are encountered, repeatedly attempting to stabilize.</p>\n<p>The <code class=\"language-text\">Nerves UART</code> library is used to handle serial connections.\nConnecting to the <em>RAD8</em> was simple since the only concern was finding the proper serial device to communicate with.\nUsing a heuristic that worked on both MacOS and Ubuntu, which was grabbing the last result in the list of serial devices achieved the goal.\nIf there are issues connecting to the RAD8, it will certainly be from this convenient hack.\nIts purpose, automated connection handling upon reconnects since the serial device name can change.\nUsing the web framework <code class=\"language-text\">phoenix</code> was really straight forward and easy to utilize.\nI wanted an excuse to use <code class=\"language-text\">liveview</code> in order to see how things worked to do server side rendering for the first time and that was its own adventure.\nAll of the logic designed into the web application is built around <code class=\"language-text\">phoenix liveview</code> and the charts and graphs were built using <code class=\"language-text\">contex</code> which generates an <code class=\"language-text\">svg</code>.</p>\n<p>Testing and development was a pain at first.\nIt required having the physical device connected.\nBuilding a fake data input system that randomly generates data was the best way to rapidly increase productively while still being able to use the <em>RAD8</em>.\nThe data storage mechanism was initially intended to be provided by the application directly via <code class=\"language-text\">Mnesia</code> which is an erlang backed database of sorts.\nFor the sake of speed, I had to forgo this choice and require that users setup a <em>Postgresql</em> database instead.\nNot requiring a RDBMS would have been awesome for simplicity but ultimately, anyone using this application is going to need to be savvy enough to install a RDBMS anyways.</p>\n<h2>Retrospective on Technological Choices</h2>\n<p>Using Elixir was a good fit for the project overall.\nIt was reliable and has good integration with libraries that can talk with embedded hardware.\nUsing phoenix as the web framework was fine and honestly, probably any web framework would have been sufficient.\nI was able to use <code class=\"language-text\">phoenix liveview</code> and dig my teeth into it for the first time.\nI‚Äôm not a <code class=\"language-text\">javascript</code> developer and I prefer doing things on the backend so I‚Äôve put off learning JS for a long time.\nBy using <code class=\"language-text\">liveview</code> I have been able to put off learning JS longer but honestly, I had to learn a lot more about a framework then I would have liked.\nIt wasn‚Äôt particularly clear what I was doing at times and there‚Äôs a lot of magic involved in variable naming and configuring things to work well with <code class=\"language-text\">liveview</code>.\nI think overall it was faster to setup than running the frontend in JS but I don‚Äôt know if I‚Äôll ever do that again.</p>\n<p>To me, <code class=\"language-text\">liveview</code> seems to shine for server side control of visual updates and information.\nThis project was perfect because all I wanted to do was display and update information with minimal interaction.\nIf this were a project that needed a lot more frontend involvement, I would definitely choose JS over <code class=\"language-text\">liveview</code> simply because JS is the domain of the frontend.\nNo matter how much backend engineers want to complain about it and avoid it, JS is a very capable language in the environment it was intended to run in.\nI say this with love for both sides, the <code class=\"language-text\">phoenix liveview</code> project is pretty incredible that backend developers have the ability to make more frontend things possible that are smooth and dynamic.\nAt the same time, is it really worth the effort of learning another framework with more limited use cases where an escape hatch into JS is needed for complex UI interactions?\nMaybe, but after this project, if I need to do frontend work again it will most likely be in raw JS.\nOverall, if I were to create a serious project that I intended to support long term, I‚Äôd be sticking with JS.\nThe case for <code class=\"language-text\">liveview</code> for me personally shines where the backend needs to control the frontend.\nThat said, the simplicity of having <code class=\"language-text\">liveview</code> for the management of this project was awesome.\nThe entire stack is in <code class=\"language-text\">Elixir</code> except for the generated JS that‚Äôs run and served by <code class=\"language-text\">phoneix</code> itself.\nIt‚Äôs pretty easy to make an IP address publicly exposed so asking a doctor to go to a particular link so they can get some updates or run some queries live is pretty trivial.</p>\n<h2>Final Thoughts</h2>\n<p>This was built for my son to make his health care better and my family‚Äôs lives easier.\nI never got to fully appreciate all the features and work I put into it, but I tried to make something simple and useful for technically inclined kindred spirits alike.\nThese features were requested by others and I genuinely hope that they keep helping people in need.</p>\n<p>I don‚Äôt think people should need to have additional equipment and gear in order to get data from these devices, they need to be made with both doctors and patients in mind.\nIf I was harsh on the doctors in this article about this device, please know it was just about the recommended device and not an insult to their capability.\nWe had an incredible team of doctors that were all wonderful to interact with.\nThey were kind and caring and often went beyond the scope of their duties to make sure our son‚Äôs needs were met.\nAll the hatred in this article is directed at medical institutions that treat patients as a cost of business instead of humans that need care.</p>\n<p>This is probably as far as I‚Äôll go with the project, but I‚Äôll probably end up experimenting with some other strategies as a learning exercise which may enhance its reliability.\nUnfortunately, due to the technical limitations of the project requiring users to buy a serial cable and setting up the RAD8, putting additional effort into the ease of use with software setup wouldn‚Äôt enable any additional non-technical users.\nIn short, it‚Äôs as easy as it‚Äôs going to get but I wish it was accessible to a wider audience of patients and caregivers.\nThanks for visiting!</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When the doctors left us with a medical device to monitor the blood oxygen levels of my newborn son, the less than desirable interface converted us into zombies.\nAlerts beeped when SPO2 or BPM reached specific thresholds and nothing else.\nThe device, the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Masimo RAD8"}]},{"type":"text","value":" contains space to store data except no patient based mechanisms to read the results it collects."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It‚Äôs crazy!\nMedical professionals leave patients with a device where caregivers can‚Äôt monitor nor track progress over long periods of time;\npreventing the collection of valuable data doctors require to inform their decisions and care plans.\nPlacing the blame on doctors is unfair since these devices and their options are limited by supply and insurance companies.\nThe inconvenient part stems from infant pulse oximeters, either costing a small fortune for a medical grade one or non-medical grade ones not taken seriously by doctors.\nWe purchased the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"wellvue"}]},{"type":"text","value":" which was an order of magnitude more convenient.\nThe battery operated machine lasted through the night, wireless, gathering data, and printed out summaries over single recording periods.\nData collection and reporting wasn‚Äôt ideal but provided insight into the patient‚Äôs overall progress, for example: patient was below 92% SPO2 for 12.5 minutes over a 10 hour period.\nIt was impossible to track the reliability of the device and the accuracy of the recorded measurements.\nWe ended up returning the device because of its unreliability and our doctors didn‚Äôt trust it."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When our insurance company signed off on renting the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"RAD8"}]},{"type":"text","value":", the pulmonary team was ecstatic, but the enthusiasm in my eyes quickly drained after figuring out how much of a burden it was to use.\nThe "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"RAD8"}]},{"type":"text","value":" advertises storing 72 hours worth of data but specialized software is required to retrieve it.\nVisiting the doctors office to read data off the device with the given frequency wasn‚Äôt sustainable.\nThe doctors expected us to record alerts by hand as they didn‚Äôt mention any method for data retrieval.\nManual data recording is too error prone of a task, particularly when the best time to gather reliable information is when both patient and parent are sleeping.\nThis was worse in every way to the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Wellvue"}]},{"type":"text","value":", with the exception of its reliability.\nI took action once noticing the serial interface on its back."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Project Goals"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The project had modest ambitions and I was on a timeline through the initial implementation cycle for this to be useful for my family.\nIt needed to:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"record readings in a centralized system that can be queried"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"contain a web interface (in order to monitor and query from any device)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"perform queries to answer questions about SPO2 levels"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"display live numerical readings (enables remote monitoring)"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Recreating an interface similar to hospital displays was ideal but the need to get the basics completed to answer the doctors‚Äô questions outweighed those ambitions.\nThe extended goals:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{"className":["contains-task-list"]},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{"className":["task-list-item"]},"children":[{"type":"element","tagName":"input","properties":{"type":"checkbox","checked":true,"disabled":true},"children":[]},{"type":"text","value":" graph historical data to get visual context showing trends"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{"className":["task-list-item"]},"children":[{"type":"element","tagName":"input","properties":{"type":"checkbox","checked":true,"disabled":true},"children":[]},{"type":"text","value":" add live visualizations"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{"className":["task-list-item"]},"children":[{"type":"element","tagName":"input","properties":{"type":"checkbox","disabled":true},"children":[]},{"type":"text","value":" in-depth queries and query parameters"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{"className":["task-list-item"]},"children":[{"type":"element","tagName":"input","properties":{"type":"checkbox","disabled":true},"children":[]},{"type":"text","value":" extendible to include more medical grade pulse oximeters"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{"className":["task-list-item"]},"children":[{"type":"element","tagName":"input","properties":{"type":"checkbox","disabled":true},"children":[]},{"type":"text","value":" customizable data storage (MySQL / PostgreSQL / Mnesia)"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"A Journey through a Proprietary Wonderland"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After digging, Philips has a proprietary protocol named "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"vuelink"}]},{"type":"text","value":" that gives the most insightful data to read from the device.\nWith time short, I did not decode the protocol (wish I did).\nInstead, I used the basic "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ASCII"}]},{"type":"text","value":" standards which provided the basic yet important data: "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"BPM, SPO2, Perfusion Index"}]},{"type":"text","value":" over standard serial protocols.\n"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ASCII"}]},{"type":"text","value":" doesn‚Äôt contain the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Signal IQ"}]},{"type":"text","value":" information that‚Äôs viewable on the physical display as "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"SIQ"}]},{"type":"text","value":", measuring the confidence level of individual readings.\n"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"SIQ"}]},{"type":"text","value":" makes me want to reverse engineer the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"vuelink"}]},{"type":"text","value":" protocol, because it creates the possibility to filter for high confidence readings during analysis.\nWatching these machines at hospitals, they display a variety of waveforms and display the changes to them indicating measurement stability.\nThat type of data would enable more sophisticated waveform analysis, but I needed something quick making it outside the project‚Äôs scope."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The documentation describing device setup was less than desirable.\nFirst, I had to figure out how to unlock it.\nThe medical supply company ‚Äúset the prescription‚Äù and then do the wonderful work of locking the device.\nThis makes settings unadjustable, including the noise level of alerts.\nThese are loud and can wake up a sleeping infant which exacerbates existing medical issues when they need to rest.\nStep one was getting the instruction manual and figuring out the crazy way to unlock the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"RAD8"}]},{"type":"text","value":".\nNext, the serial interface needed configuration to function properly.\nOnce accomplished, the official manual stated it take measurements every 500ms, which wasn‚Äôt true.\nI noticed this while analyzing data where my original calculations to get the duration of measurements was:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["math","math-display"]},"children":[{"type":"element","tagName":"span","properties":{"className":["katex-display"]},"children":[{"type":"element","tagName":"span","properties":{"className":["katex"]},"children":[{"type":"element","tagName":"span","properties":{"className":["katex-mathml"]},"children":[{"type":"element","tagName":"math","properties":{"xmlns":"http://www.w3.org/1998/Math/MathML","display":"block"},"children":[{"type":"element","tagName":"semantics","properties":{},"children":[{"type":"element","tagName":"mrow","properties":{},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"d"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"u"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"r"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"a"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"t"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"i"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"o"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"n"}]},{"type":"element","tagName":"mo","properties":{},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"mfrac","properties":{},"children":[{"type":"element","tagName":"mrow","properties":{},"children":[{"type":"element","tagName":"munderover","properties":{},"children":[{"type":"element","tagName":"mo","properties":{},"children":[{"type":"text","value":"‚àë"}]},{"type":"element","tagName":"mrow","properties":{},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"r"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"e"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"a"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"d"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"i"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"n"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"g"}]},{"type":"element","tagName":"mo","properties":{},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"mn","properties":{},"children":[{"type":"text","value":"1"}]}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"n"}]}]},{"type":"element","tagName":"mn","properties":{},"children":[{"type":"text","value":"1"}]}]},{"type":"element","tagName":"mfrac","properties":{},"children":[{"type":"element","tagName":"msub","properties":{},"children":[{"type":"element","tagName":"mn","properties":{},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"mrow","properties":{},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"r"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"e"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"a"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"d"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"i"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"n"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"g"}]}]}]},{"type":"element","tagName":"msub","properties":{},"children":[{"type":"element","tagName":"mn","properties":{},"children":[{"type":"text","value":"500"}]},{"type":"element","tagName":"mrow","properties":{},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"m"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"s"}]}]}]}]}]},{"type":"element","tagName":"mo","properties":{},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"mfrac","properties":{},"children":[{"type":"element","tagName":"mrow","properties":{},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"n"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"u"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"m"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"O"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"f"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"R"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"e"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"a"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"d"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"i"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"n"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"g"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"s"}]}]},{"type":"element","tagName":"mrow","properties":{},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"r"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"e"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"a"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"d"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"i"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"n"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"g"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"R"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"a"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"t"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"e"}]}]}]}]},{"type":"element","tagName":"annotation","properties":{"encoding":"application/x-tex"},"children":[{"type":"text","value":"duration = \\frac{\\sum_{reading=1}^{n} 1}{\\frac{1_{reading}}{500_{ms}}} = \\frac{numOfReadings}{readingRate}"}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tagName":"span","properties":{"className":["base"]},"children":[{"type":"element","tagName":"span","properties":{"className":["strut"],"style":"height:0.6944em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"d"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"u"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"],"style":"margin-right:0.02778em;"},"children":[{"type":"text","value":"r"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"a"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"t"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"i"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"o"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"n"}]},{"type":"element","tagName":"span","properties":{"className":["mspace"],"style":"margin-right:0.2778em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mrel"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["mspace"],"style":"margin-right:0.2778em;"},"children":[]}]},{"type":"element","tagName":"span","properties":{"className":["base"]},"children":[{"type":"element","tagName":"span","properties":{"className":["strut"],"style":"height:2.9294em;vertical-align:-1.2993em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mord"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mopen","nulldelimiter"]},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mfrac"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:1.6301em;"},"children":[{"type":"element","tagName":"span","properties":{"style":"top:-2.1458em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mord"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mopen","nulldelimiter"]},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mfrac"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.9642em;"},"children":[{"type":"element","tagName":"span","properties":{"style":"top:-2.655em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"text","value":"50"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"text","value":"0"}]},{"type":"element","tagName":"span","properties":{"className":["msupsub"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.1645em;"},"children":[{"type":"element","tagName":"span","properties":{"style":"top:-2.357em;margin-left:0em;margin-right:0.0714em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:2.5em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["sizing","reset-size3","size1","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"m"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"s"}]}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-s"]},"children":[{"type":"text","value":"‚Äã"}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.143em;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]}]}]}]}]}]},{"type":"element","tagName":"span","properties":{"style":"top:-3.23em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["frac-line"],"style":"border-bottom-width:0.04em;"},"children":[]}]},{"type":"element","tagName":"span","properties":{"style":"top:-3.5131em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["msupsub"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.3448em;"},"children":[{"type":"element","tagName":"span","properties":{"style":"top:-2.3488em;margin-left:0em;margin-right:0.0714em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:2.5em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["sizing","reset-size3","size1","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"re"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"a"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"d"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"in"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.03588em;"},"children":[{"type":"text","value":"g"}]}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-s"]},"children":[{"type":"text","value":"‚Äã"}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.2901em;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]}]}]}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-s"]},"children":[{"type":"text","value":"‚Äã"}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.4451em;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["mclose","nulldelimiter"]},"children":[]}]}]}]},{"type":"element","tagName":"span","properties":{"style":"top:-3.23em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["frac-line"],"style":"border-bottom-width:0.04em;"},"children":[]}]},{"type":"element","tagName":"span","properties":{"style":"top:-3.8258em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mord"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mop"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mop","op-symbol","small-op"],"style":"position:relative;top:0em;"},"children":[{"type":"text","value":"‚àë"}]},{"type":"element","tagName":"span","properties":{"className":["msupsub"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.8043em;"},"children":[{"type":"element","tagName":"span","properties":{"style":"top:-2.4003em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"re"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"a"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"d"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"in"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.03588em;"},"children":[{"type":"text","value":"g"}]},{"type":"element","tagName":"span","properties":{"className":["mrel","mtight"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"text","value":"1"}]}]}]}]},{"type":"element","tagName":"span","properties":{"style":"top:-3.2029em;margin-right:0.05em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"n"}]}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-s"]},"children":[{"type":"text","value":"‚Äã"}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.4358em;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["mspace"],"style":"margin-right:0.1667em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mord"]},"children":[{"type":"text","value":"1"}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-s"]},"children":[{"type":"text","value":"‚Äã"}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:1.2993em;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["mclose","nulldelimiter"]},"children":[]}]},{"type":"element","tagName":"span","properties":{"className":["mspace"],"style":"margin-right:0.2778em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mrel"]},"children":[{"type":"text","value":"="}]},{"type":"element","tagName":"span","properties":{"className":["mspace"],"style":"margin-right:0.2778em;"},"children":[]}]},{"type":"element","tagName":"span","properties":{"className":["base"]},"children":[{"type":"element","tagName":"span","properties":{"className":["strut"],"style":"height:2.2519em;vertical-align:-0.8804em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mord"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mopen","nulldelimiter"]},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mfrac"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:1.3714em;"},"children":[{"type":"element","tagName":"span","properties":{"style":"top:-2.314em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mord"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"re"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"a"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"d"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"in"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"],"style":"margin-right:0.03588em;"},"children":[{"type":"text","value":"g"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"],"style":"margin-right:0.00773em;"},"children":[{"type":"text","value":"R"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"a"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"t"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"e"}]}]}]},{"type":"element","tagName":"span","properties":{"style":"top:-3.23em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["frac-line"],"style":"border-bottom-width:0.04em;"},"children":[]}]},{"type":"element","tagName":"span","properties":{"style":"top:-3.677em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mord"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"n"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"u"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"m"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"],"style":"margin-right:0.02778em;"},"children":[{"type":"text","value":"O"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"],"style":"margin-right:0.10764em;"},"children":[{"type":"text","value":"f"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"],"style":"margin-right:0.00773em;"},"children":[{"type":"text","value":"R"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"e"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"a"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"d"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"in"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"],"style":"margin-right:0.03588em;"},"children":[{"type":"text","value":"g"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal"]},"children":[{"type":"text","value":"s"}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-s"]},"children":[{"type":"text","value":"‚Äã"}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.8804em;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["mclose","nulldelimiter"]},"children":[]}]}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This result allowed us to generate the amount of time recorded directly, but it was a lie.\nChecking the database timestamps, the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"reading rate"}]},{"type":"text","value":" was actually "},{"type":"element","tagName":"span","properties":{"className":["math","math-inline"]},"children":[{"type":"element","tagName":"span","properties":{"className":["katex"]},"children":[{"type":"element","tagName":"span","properties":{"className":["katex-mathml"]},"children":[{"type":"element","tagName":"math","properties":{"xmlns":"http://www.w3.org/1998/Math/MathML"},"children":[{"type":"element","tagName":"semantics","properties":{},"children":[{"type":"element","tagName":"mrow","properties":{},"children":[{"type":"element","tagName":"mfrac","properties":{},"children":[{"type":"element","tagName":"msub","properties":{},"children":[{"type":"element","tagName":"mn","properties":{},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"mrow","properties":{},"children":[{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"r"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"e"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"a"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"d"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"i"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"n"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"g"}]}]}]},{"type":"element","tagName":"msub","properties":{},"children":[{"type":"element","tagName":"mn","properties":{},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"s"}]}]}]}]},{"type":"element","tagName":"annotation","properties":{"encoding":"application/x-tex"},"children":[{"type":"text","value":"\\frac{1_{reading}}{1_s}"}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tagName":"span","properties":{"className":["base"]},"children":[{"type":"element","tagName":"span","properties":{"className":["strut"],"style":"height:1.4093em;vertical-align:-0.4451em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mord"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mopen","nulldelimiter"]},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mfrac"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.9642em;"},"children":[{"type":"element","tagName":"span","properties":{"style":"top:-2.655em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["msupsub"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.1645em;"},"children":[{"type":"element","tagName":"span","properties":{"style":"top:-2.357em;margin-left:0em;margin-right:0.0714em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:2.5em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["sizing","reset-size3","size1","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"s"}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-s"]},"children":[{"type":"text","value":"‚Äã"}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.143em;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]}]}]}]}]}]},{"type":"element","tagName":"span","properties":{"style":"top:-3.23em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["frac-line"],"style":"border-bottom-width:0.04em;"},"children":[]}]},{"type":"element","tagName":"span","properties":{"style":"top:-3.5131em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:3em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["msupsub"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.3448em;"},"children":[{"type":"element","tagName":"span","properties":{"style":"top:-2.3488em;margin-left:0em;margin-right:0.0714em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:2.5em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["sizing","reset-size3","size1","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"re"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"a"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"d"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"in"}]},{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"],"style":"margin-right:0.03588em;"},"children":[{"type":"text","value":"g"}]}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-s"]},"children":[{"type":"text","value":"‚Äã"}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.2901em;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]}]}]}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-s"]},"children":[{"type":"text","value":"‚Äã"}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.4451em;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["mclose","nulldelimiter"]},"children":[]}]}]}]}]}]},{"type":"text","value":"‚Ä¶\nIt was a lot of fun to discover and tell the pulmonary doctors the wrong results for the first two days because of bad documentation ü§¶üèª‚Äç‚ôÇÔ∏è.\nThere were other issues that were more pressing at the time which made me realize the incorrect calculation later than I would have liked.\nYou might be wondering, was it the polling rate?\nNo, the serial device is immediately read and asked for more information after it returns with a result, timing out at "},{"type":"element","tagName":"span","properties":{"className":["math","math-inline"]},"children":[{"type":"element","tagName":"span","properties":{"className":["katex"]},"children":[{"type":"element","tagName":"span","properties":{"className":["katex-mathml"]},"children":[{"type":"element","tagName":"math","properties":{"xmlns":"http://www.w3.org/1998/Math/MathML"},"children":[{"type":"element","tagName":"semantics","properties":{},"children":[{"type":"element","tagName":"mrow","properties":{},"children":[{"type":"element","tagName":"msub","properties":{},"children":[{"type":"element","tagName":"mn","properties":{},"children":[{"type":"text","value":"5"}]},{"type":"element","tagName":"mi","properties":{},"children":[{"type":"text","value":"s"}]}]}]},{"type":"element","tagName":"annotation","properties":{"encoding":"application/x-tex"},"children":[{"type":"text","value":"5_s"}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["katex-html"],"ariaHidden":"true"},"children":[{"type":"element","tagName":"span","properties":{"className":["base"]},"children":[{"type":"element","tagName":"span","properties":{"className":["strut"],"style":"height:0.7944em;vertical-align:-0.15em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["mord"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord"]},"children":[{"type":"text","value":"5"}]},{"type":"element","tagName":"span","properties":{"className":["msupsub"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-t","vlist-t2"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.1514em;"},"children":[{"type":"element","tagName":"span","properties":{"style":"top:-2.55em;margin-left:0em;margin-right:0.05em;"},"children":[{"type":"element","tagName":"span","properties":{"className":["pstrut"],"style":"height:2.7em;"},"children":[]},{"type":"element","tagName":"span","properties":{"className":["sizing","reset-size6","size3","mtight"]},"children":[{"type":"element","tagName":"span","properties":{"className":["mord","mathnormal","mtight"]},"children":[{"type":"text","value":"s"}]}]}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-s"]},"children":[{"type":"text","value":"‚Äã"}]}]},{"type":"element","tagName":"span","properties":{"className":["vlist-r"]},"children":[{"type":"element","tagName":"span","properties":{"className":["vlist"],"style":"height:0.15em;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]}]}]}]}]}]}]},{"type":"text","value":" for a reading.\nThe last bit of proprietary fun came from the information display and error codes.\nThese were bit masks that were represented in ASCII as hexadecimal bit-masks.\nI copied the common ones from a python project which was a great help in the creation of this application."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Implementation Specifics"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The project utilizes the Elixir programming language because of its immediate familiarity and its failure handling mechanisms.\nThe actor model that erlang provides to supervise processes is ideal for handling connection issues and retry logic.\nWith all the built-in features of erlang, reconnecting devices came for free because of the supervision strategies for processes!\nThe serial connection was handled under a supervised process so if disconnects or unhandled errors occur, the supervisor keeps retrying to restore the task to a stable state.\nUsers can use the device in the way they need to at the time they need to.\nIt doesn‚Äôt matter if the device is turned off, unplugged, or can‚Äôt communicate with the OS.\nThe supervisor keeps retrying and spins up new processes errors are encountered, repeatedly attempting to stabilize."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Nerves UART"}]},{"type":"text","value":" library is used to handle serial connections.\nConnecting to the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"RAD8"}]},{"type":"text","value":" was simple since the only concern was finding the proper serial device to communicate with.\nUsing a heuristic that worked on both MacOS and Ubuntu, which was grabbing the last result in the list of serial devices achieved the goal.\nIf there are issues connecting to the RAD8, it will certainly be from this convenient hack.\nIts purpose, automated connection handling upon reconnects since the serial device name can change.\nUsing the web framework "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"phoenix"}]},{"type":"text","value":" was really straight forward and easy to utilize.\nI wanted an excuse to use "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"liveview"}]},{"type":"text","value":" in order to see how things worked to do server side rendering for the first time and that was its own adventure.\nAll of the logic designed into the web application is built around "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"phoenix liveview"}]},{"type":"text","value":" and the charts and graphs were built using "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"contex"}]},{"type":"text","value":" which generates an "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"svg"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Testing and development was a pain at first.\nIt required having the physical device connected.\nBuilding a fake data input system that randomly generates data was the best way to rapidly increase productively while still being able to use the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"RAD8"}]},{"type":"text","value":".\nThe data storage mechanism was initially intended to be provided by the application directly via "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Mnesia"}]},{"type":"text","value":" which is an erlang backed database of sorts.\nFor the sake of speed, I had to forgo this choice and require that users setup a "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Postgresql"}]},{"type":"text","value":" database instead.\nNot requiring a RDBMS would have been awesome for simplicity but ultimately, anyone using this application is going to need to be savvy enough to install a RDBMS anyways."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Retrospective on Technological Choices"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Using Elixir was a good fit for the project overall.\nIt was reliable and has good integration with libraries that can talk with embedded hardware.\nUsing phoenix as the web framework was fine and honestly, probably any web framework would have been sufficient.\nI was able to use "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"phoenix liveview"}]},{"type":"text","value":" and dig my teeth into it for the first time.\nI‚Äôm not a "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"javascript"}]},{"type":"text","value":" developer and I prefer doing things on the backend so I‚Äôve put off learning JS for a long time.\nBy using "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"liveview"}]},{"type":"text","value":" I have been able to put off learning JS longer but honestly, I had to learn a lot more about a framework then I would have liked.\nIt wasn‚Äôt particularly clear what I was doing at times and there‚Äôs a lot of magic involved in variable naming and configuring things to work well with "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"liveview"}]},{"type":"text","value":".\nI think overall it was faster to setup than running the frontend in JS but I don‚Äôt know if I‚Äôll ever do that again."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To me, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"liveview"}]},{"type":"text","value":" seems to shine for server side control of visual updates and information.\nThis project was perfect because all I wanted to do was display and update information with minimal interaction.\nIf this were a project that needed a lot more frontend involvement, I would definitely choose JS over "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"liveview"}]},{"type":"text","value":" simply because JS is the domain of the frontend.\nNo matter how much backend engineers want to complain about it and avoid it, JS is a very capable language in the environment it was intended to run in.\nI say this with love for both sides, the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"phoenix liveview"}]},{"type":"text","value":" project is pretty incredible that backend developers have the ability to make more frontend things possible that are smooth and dynamic.\nAt the same time, is it really worth the effort of learning another framework with more limited use cases where an escape hatch into JS is needed for complex UI interactions?\nMaybe, but after this project, if I need to do frontend work again it will most likely be in raw JS.\nOverall, if I were to create a serious project that I intended to support long term, I‚Äôd be sticking with JS.\nThe case for "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"liveview"}]},{"type":"text","value":" for me personally shines where the backend needs to control the frontend.\nThat said, the simplicity of having "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"liveview"}]},{"type":"text","value":" for the management of this project was awesome.\nThe entire stack is in "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Elixir"}]},{"type":"text","value":" except for the generated JS that‚Äôs run and served by "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"phoneix"}]},{"type":"text","value":" itself.\nIt‚Äôs pretty easy to make an IP address publicly exposed so asking a doctor to go to a particular link so they can get some updates or run some queries live is pretty trivial."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Final Thoughts"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This was built for my son to make his health care better and my family‚Äôs lives easier.\nI never got to fully appreciate all the features and work I put into it, but I tried to make something simple and useful for technically inclined kindred spirits alike.\nThese features were requested by others and I genuinely hope that they keep helping people in need."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I don‚Äôt think people should need to have additional equipment and gear in order to get data from these devices, they need to be made with both doctors and patients in mind.\nIf I was harsh on the doctors in this article about this device, please know it was just about the recommended device and not an insult to their capability.\nWe had an incredible team of doctors that were all wonderful to interact with.\nThey were kind and caring and often went beyond the scope of their duties to make sure our son‚Äôs needs were met.\nAll the hatred in this article is directed at medical institutions that treat patients as a cost of business instead of humans that need care."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is probably as far as I‚Äôll go with the project, but I‚Äôll probably end up experimenting with some other strategies as a learning exercise which may enhance its reliability.\nUnfortunately, due to the technical limitations of the project requiring users to buy a serial cable and setting up the RAD8, putting additional effort into the ease of use with software setup wouldn‚Äôt enable any additional non-technical users.\nIn short, it‚Äôs as easy as it‚Äôs going to get but I wish it was accessible to a wider audience of patients and caregivers.\nThanks for visiting!"}]}],"data":{"quirksMode":false}},"excerpt":"When the doctors left us with a medical device to monitor the blood oxygen levels of my newborn son, the less than desirable interface‚Ä¶","timeToRead":8,"frontmatter":{"title":"Pulse Oximeter Monitor Project","userDate":"8 March 2021","date":"2021-03-08T00:00:00.000Z","modified":"2021-03-08T00:00:00.000Z","tags":["Project","Software Engineering"],"excerpt":"Building a monitor for the Masimo RAD8 pulse oximeter","picture":null,"author":[{"yamlId":"Ken Cross","bio":"Software Engineer","avatar":{"children":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#182828","images":{"fallback":{"src":"/static/7ffe238930a689e103d70f234bb00199/17f8a/ghost.png","srcSet":"/static/7ffe238930a689e103d70f234bb00199/17f8a/ghost.png 400w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[{"srcSet":"/static/7ffe238930a689e103d70f234bb00199/5fb52/ghost.webp 400w","type":"image/webp","sizes":"(min-width: 400px) 400px, 100vw"}]},"width":400,"height":400}}]}}]}},"relatedPosts":{"totalCount":1,"edges":[{"node":{"id":"e6f0e168-366c-53b5-b399-e2257f9bdc6a","timeToRead":8,"excerpt":"When the doctors left us with a medical device to monitor the blood oxygen levels of my newborn son, the less than desirable interface‚Ä¶","frontmatter":{"title":"Pulse Oximeter Monitor Project","date":"2021-03-08T00:00:00.000Z","modified":"2021-03-08T00:00:00.000Z"},"fields":{"slug":"/posts/spo2/"}}}]}},"pageContext":{"slug":"/posts/spo2/","prev":{"excerpt":"Hi, I‚Äôm Ken, a software engineer by trade.\nUsing theory to solve real world problems is a passion of mine.\nYou may know me by maintaining‚Ä¶","timeToRead":1,"frontmatter":{"title":"About","tags":null,"date":"2021-01-27T06:49:16.000Z","draft":false,"excerpt":"Who am I?","picture":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAME/8QAFAEBAAAAAAAAAAAAAAAAAAAAAv/aAAwDAQACEAMQAAAB0TuDg0GP/8QAGhAAAgIDAAAAAAAAAAAAAAAAABEBAhASMf/aAAgBAQABBQJE91xNWI//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAXEAADAQAAAAAAAAAAAAAAAAAAIFFh/9oACAEBAAY/AjKv/8QAGRAAAgMBAAAAAAAAAAAAAAAAAAEQESFR/9oACAEBAAE/IQtaWFcCHIX4f//aAAwDAQACAAMAAAAQIM//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8QrH//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QjX//xAAcEAACAgIDAAAAAAAAAAAAAAABEQAhQbFhcfH/2gAIAQEAAT8QHGMK7gQm0tGKcQ3QEThQ6B3B7p//2Q=="},"images":{"fallback":{"src":"/static/32bb7c5c7c9c0c370e5173ae06d3cf61/96039/abstract_bird.jpg","srcSet":"/static/32bb7c5c7c9c0c370e5173ae06d3cf61/ba7ef/abstract_bird.jpg 750w,\n/static/32bb7c5c7c9c0c370e5173ae06d3cf61/3e5d8/abstract_bird.jpg 1080w,\n/static/32bb7c5c7c9c0c370e5173ae06d3cf61/7d125/abstract_bird.jpg 1366w,\n/static/32bb7c5c7c9c0c370e5173ae06d3cf61/96039/abstract_bird.jpg 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/32bb7c5c7c9c0c370e5173ae06d3cf61/d1bbb/abstract_bird.webp 750w,\n/static/32bb7c5c7c9c0c370e5173ae06d3cf61/96cc1/abstract_bird.webp 1080w,\n/static/32bb7c5c7c9c0c370e5173ae06d3cf61/74e52/abstract_bird.webp 1366w,\n/static/32bb7c5c7c9c0c370e5173ae06d3cf61/0a4e7/abstract_bird.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.75}}},"author":null},"fields":{"layout":"isolated","slug":"/about/"}},"next":{"excerpt":"There are books that many companies in Silicon Valley use to build their corporate strategies or use to justify their culture. This‚Ä¶","timeToRead":14,"frontmatter":{"title":"Valley Strategy","tags":["Summary","Business"],"date":"2024-07-07T00:00:00.000Z","draft":false,"excerpt":"Sumarizing books comonly used to build business strategy","picture":null,"author":[{"yamlId":"Ken Cross","bio":"Software Engineer","avatar":{"children":[{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#182828","images":{"fallback":{"src":"/static/7ffe238930a689e103d70f234bb00199/17f8a/ghost.png","srcSet":"/static/7ffe238930a689e103d70f234bb00199/17f8a/ghost.png 400w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[{"srcSet":"/static/7ffe238930a689e103d70f234bb00199/5fb52/ghost.webp 400w","type":"image/webp","sizes":"(min-width: 400px) 400px, 100vw"}]},"width":400,"height":400}}]}}]},"fields":{"layout":"post","slug":"/posts/valley_strategy/"}},"primaryTag":"Project"}},"staticQueryHashes":[],"slicesMap":{}}